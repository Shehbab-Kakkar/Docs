Great catch â€” `$` is **very important** in Helm templates.

---

## What does `$` mean in Helm?

ðŸ‘‰ **`$` is the ROOT (global) context**

No matter where you are (inside `with`, `range`, etc.), `$` always points to the **top-level object**.

---

## Why do we need `$`?

Because `with` and `range` **change what `.` (dot) means**.

* `.` = *current context*
* `$` = *original/root context*

---

## Simple example (no `$` needed)

```yaml
name: {{ .Chart.Name }}
```

Here:

* `.` already points to root
* `$` is optional

---

## Example where `$` is REQUIRED ðŸ”¥

### `values.yaml`

```yaml
image:
  repository: nginx
  tag: latest

containers:
  - name: app
  - name: sidecar
```

---

### Template using `range`

```yaml
containers:
{{- range .Values.containers }}
  - name: {{ .name }}
    image: {{ .Values.image.repository }}:{{ .Values.image.tag }}
{{- end }}
```

âŒ **This fails**

Why?

* Inside `range`, `.` = current container
* `.Values` no longer exists here

---

## Correct version using `$` âœ…

```yaml
containers:
{{- range .Values.containers }}
  - name: {{ .name }}
    image: {{ $.Values.image.repository }}:{{ $.Values.image.tag }}
{{- end }}
```

âœ” `$` jumps back to root
âœ” `.Values` is available again

---

## `$` vs `.` at a glance

| Symbol | Meaning               |
| ------ | --------------------- |
| `.`    | Current context       |
| `$`    | Root context          |
| `$var` | User-defined variable |

---

## `$` with variables

```yaml
{{- $image := .Values.image }}

containers:
{{- range .Values.containers }}
  - name: {{ .name }}
    image: {{ $image.repository }}:{{ $image.tag }}
{{- end }}
```

Here:

* `$image` stores root values
* Cleaner than repeating `$.Values.image`

---

## Easy memory trick ðŸ§ 

* **Dot moves**
* **Dollar doesnâ€™t**

---

## Interview one-liner

> In Helm templates, `$` always refers to the root context and is used to access global values when `.` changes inside `with` or `range`.

If you want, I can show:

* `$` inside nested `with + range`
* common `$` mistakes
* or a debugging trick using `helm template --debug`
