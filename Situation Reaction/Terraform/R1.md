In **Terraform**, to **prevent a resource like a database from being destroyed**, you can use the **`lifecycle`** block with the **`prevent_destroy = true`** argument.

This is very useful for critical resources like **databases**, where accidental deletion can cause major data loss.

---

## ‚úÖ Example: Prevent Destruction of an RDS Database

```hcl
resource "aws_db_instance" "mydb" {
  identifier = "mydb-instance"
  engine     = "mysql"
  instance_class = "db.t3.micro"
  allocated_storage = 20
  username = "admin"
  password = "password"
  skip_final_snapshot = true

  lifecycle {
    prevent_destroy = true
  }
}
```

---

## üîí What `prevent_destroy = true` Does:

* If you try to destroy this resource (manually or via `terraform destroy`), Terraform will **throw an error** and **stop the plan/apply**.
* This helps **protect critical infrastructure** (e.g., DBs, production systems).

---

## ‚ö†Ô∏è Notes:

1. **You must remove or comment out** the `prevent_destroy` line **before destroying** the resource intentionally.
2. It only protects against destroy, not other changes like `modifications`.
3. It's useful in team environments or CI/CD pipelines to avoid accidental deletion.

---

## üõ†Ô∏è Bonus Tip: Combine with `terraform plan -out=tfplan`

Use planning before apply, to catch potential destroy actions early:

```bash
terraform plan -out=tfplan
terraform apply tfplan
```

---

Let me know if you want to make specific DB attributes immutable as well (like `prevent changes to allocated_storage`, etc.).
